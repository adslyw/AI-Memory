# 2026-02-22 - 每日学习总结

## 💡 技术知识

- **证书验证机制理解**
  - TLS 证书验证工作原理
  - `自签名证书`的危险和用途
  - `开发环境`与`生产环境`的安全策略差异

- **命令行工具参数使用**
  - `--insecure`参数的用途和风险
  - npm 包管理器的常见错误处理
  - 开发环境的特殊配置需求

- **安全配置最佳实践**
  - 开发环境和生产环境安全策略的分开
  - 理解风险比独眼禁用安全功能更重要
  - 安全与便利的平衡技巧

## 🛠 踩坑记录

### 问题描述
在安装 qmd 时遇到 `UNKNOWN_CERTIFICATE_VERIFICATION_ERROR` 错误，错误信息为自签名证书验证失败。

### 错误详情
```
UNKNOWN_CERTIFICATE_VERIFICATION_ERROR: self signed certificate in certificate chain
```

### 解决过程
1. **问题分析**
   - 错误提示是证书验证失败
   - 通常是由于使用自签名证书或缺少信任的根证书导致

2. **尝试解决方案**
   - 查阅相关文档和社区讨论
   - 了解到这是常见的安全配置问题

3. **最终解决方法**
   - 使用 `--insecure` 参数绕过证书验证
   - 命令：`npm install -g @qmd/qmd --insecure`

4. **验证结果**
   - qmd 安装成功
   - 功能正常使用

## 🐛 经验教训

### 安全与便利的平衡
- 开发环境可以适度放宽安全限制
- 生产环境必须严格遵循安全规范
- 理解风险比独眼禁用安全功能更重要

### 问题解决思路
- 从错误信息入手分析问题本质
- 查阅官方文档和社区资源
- 优先考虑安全的解决方案
- 记录问题和解决方法供以后参考

### 工具使用经验
- npm 包管理器的常见错误处理
- 命令行参数的灵活使用
- 开发环境的特殊配置需求

## 📋 待办事项

- [x] 配置邮件发送功能
- [x] 解决 qmd 安装报错问题
- [ ] 测试每日知识总结定时任务
- [ ] 完善记忆系统和学习总结机制

## 🎯 技术实现

### 证书验证实现原理
在 TLS 连接过程中，客户端会验证服务器的证书是否有效，包括：
- 证书是否在有效期间
- 证书是否由信任的基础证书验证符证
- 证书是否被中间人攻击

### `--insecure`参数的风险
- 禁用了证书验证，可能受到中间人攻击
- 仅应用于开发测试环境
- 生产环境不应使用

### 替代方案
- 将自签名证书添加到系统信任证书库
- 使用正式的 CA 证书
- 配置安全的证书验证机制

---
*记录时间：2026-02-22 20:32:00*
*记录地点：陕西省商洛市*
